---
title: 阿里云-ACP云计算工程师笔记
date: 2024-06-14 10:23:56
tags:
---

### 阿里云产品一览

#### 云服务器ECS

云服务器ECS（Elastic Compute Service）是阿里云提供的性能卓越、稳定可靠、弹性扩展的IaaS（Infrastructure as a Service）级别云计算服务。

#### 容器服务Kubernetes版ACK

容器服务 Kubernetes 版（Container Service for Kubernetes，简称容器服务 ACK）提供高性能可伸缩的容器应用管理服务，支持企业级Kubernetes容器化应用的生命周期管理。

#### 对象存储OSS

阿里云对象存储OSS（Object Storage Service）是一款海量、安全、低成本、高可靠的云存储服务，可提供99.9999999999%（12个9）的数据持久性，99.995%的数据可用性。多种存储类型供选择，全面优化存储成本。

<!--more-->

#### 负载均衡SLB

负载均衡SLB（Server Load Balancer）是一种对流量进行按需分发的服务，通过将流量分发到不同的后端服务来扩展应用系统的服务吞吐能力，并且可以消除系统中的单点故障，提升应用系统的可用性。

#### 云数据库RDS

阿里云提供稳定可靠、可弹性伸缩的关系型云数据库RDS，支持MySQL、SQL Server、PostgreSQL和MariaDB引擎，具备容灾、备份、恢复、迁移等方面的全套解决方案。

#### 云原生大数据计算服务 MaxCompute

云原生大数据计算服务(MaxCompute)是一种快速、完全托管的TB/PB级数据仓库解决方案。MaxCompute向用户提供了完善的数据导入方案以及多种经典的分布式计算模型，能够更快速的解决用户海量数据计算问题，有效降低企业成本，并保障数据安全。

#### 大数据开发治理平台 DataWorks

大数据开发治理平台 DataWorks基于MaxCompute/EMR/MC-Hologres等大数据计算引擎，为客户提供专业高效、安全可靠的一站式大数据开发与治理平台，自带阿里巴巴数据中台与数据治理最佳实践，赋能各行业数字化转型。每天阿里巴巴集团内部有数万名数据/算法工程师正在使用DataWorks，承担集团99%数据业务构建。

#### 人工智能平台PAI

人工智能平台 PAI（Platform of Artificial Intelligence）面向企业客户及开发者，提供轻量化、高性价比的云原生人工智能，涵盖DSW交互式建模、Designer拖拽式可视化建模、DLC分布式训练到EAS模型在线部署的全流程。

#### 日志服务SLS

日志服务SLS是云原生观测与分析平台，为Log、Metric、Trace等数据提供大规模、低成本、实时的平台化服务。日志服务一站式提供数据采集、加工、查询与分析、可视化、告警、消费与投递等功能，全面提升您在研发、运维、运营、安全等场景的数字化能力。

#### Web应用防火墙WAF

阿里云Web应用防火墙基于云安全大数据能力，有效防御各类OWASP常见Web攻击并过滤海量恶意CC攻击，避免您的网站资产数据泄露，保障网站业务安全性与可用性。

#### CDN

内容分发网络（Content Delivery Network，CDN）是建立并覆盖在承载网上，由不同区域的服务器组成的分布式网络。将源站资源缓存到全国各地的边缘服务器，供用户就近获取，降低源站压力。

#### 云效DevOps

云原生时代一站式BizDevOps平台，十万企业、百万开发者都在用。支持公共云、专有云和混合云多种部署形态，通过云原生新技术和研发新模式，助力创新创业和数字化转型企业快速实现研发敏捷和组织敏捷，打造“双敏”组织，实现多倍效能提升。

#### 分布式关系型数据库服务（Distributed Relational Database Service，简称DRDS）

阿里云分布式关系型数据库服务（Distributed Relational Database Service，简称DRDS）为用户提供在线 分布式数据库服务。 DRDS 基于用户所拥有的RDS作为数据节点，本身不提供数据存储空间，仅处理分布式读 写逻辑并返回正确的执行结果，同时提供在线扩容、读写分离等功能。

#### 弹性公网IP（Elastic IP Address）

弹性公网 IP EIP（Elastic IP Address）是可以独立购买和持有的公网IP地址资源。目前，EIP支持绑定到专有网络类型的云服务器 ECS（Elastic Compute Service）实例、辅助弹性网卡、负载均衡 SLB（Server Load Balancer）实例、NAT 网关（NAT Gateway）和高可用虚拟IP上。

#### PolarDB-X

PolarDB-X是一款面向超高并发、海量存储、复杂查询场景设计的云原生分布式数据库系统。其采用Shared-nothing与存储计算分离架构，支持水平扩展、分布式事务、混合负载等能力，具备企业级、云原生、高可用、高度兼容MySQL系统及生态等特点。

### 常用概念

#### BGP（Border Gateway Protocol，边界网关协议）多线接入

BGP（多线）_精品线路是一种优化海外回中国内地流量的公网线路，可以提高国际业务访问质量。相比普通BGP（多线）线路， BGP（多线）_精品线路在为中国内地终端客户（不包括中国内地数据中心）提供服务时，通过运营商精品公网直连中国内地，时延更低。

#### Google发表的三篇论文奠定了云计算基础

- GFS(Google File System)：文件存储
  - GFS 论文提供了一个大规模、高可靠、高性能的分布式文件系统的理论基础。
  - 它描述了 GFS 系统的整体架构、核心组件(如 Master、Chunkserver)、数据读写流程、容错机制等关键设计思想。
  - GFS 系统的设计主要针对大规模数据处理的需求,如处理海量的日志数据、视频数据等。
- MapReduce：数据处理
  - MapReduce 论文描述了一种用于大规模数据处理的编程模型和执行框架。
  - 它提供了一种抽象的编程接口(Map 和 Reduce 函数),隐藏了分布式计算的复杂细节,使得开发人员可以更加专注于业务逻辑的实现。
  - MapReduce 框架能够自动处理任务的分发、执行、容错和监控等,从而大大简化了大规模数据处理的开发和部署。
- BigTable：数据存储
  - BigTable 论文描述了一个分布式的结构化数据存储系统,它能够处理海量的半结构化数据。
  - BigTable 提供了一个简单的数据模型(类似于 Google 电子表格),支持高吞吐量的数据读写,并具有良好的可扩展性。
  - BigTable 的设计主要针对于大规模web索引、地图reduce、Gmail等需要处理海量结构化数据的应用场景。

### 知识点

#### OSS加密方式

- 使用KMS托管密钥进行加解密（SSE-KMS）：使用KMS托管的默认CMK（Customer Master Key）或指定CMK进行加解密操作。数据无需通过网络发送到KMS服务端进行加解密。
- 使用OSS完全托管密钥进行加解密（SSE-OSS）：使用OSS完全托管的密钥加密每个Object。为了提升安全性，OSS还会使用定期轮转的主密钥对加密密钥本身进行加密。

#### 网络通信五元组

五元组是通信术语。通常是指源IP地址，源端口，目的IP地址，目的端口和传输层协议。

#### 抢占式实例

抢占式实例（旧称竞价实例）是一种按需实例，性能与常规ECS实例无异，价格根据市场供需关系实时变化，相对于按量付费实例最高能节约90%的实例成本。本文介绍抢占式实例的特点、应用场景、使用限制等信息。

#### 专有宿主机DDH（Dedicated Host）

专有宿主机DDH（Dedicated Host）是阿里云专为企业客户定制优化的云端解决方案，具有物理资源独享、部署更灵活、配置更丰富、性价比更高等特点，可以有效地降低企业上云的总所有成本TCO（Total Cost of Ownership）。 DDH是指由一个租户独享物理资源的云主机。

#### 负载均衡调度算法

阿里云SLB的调度算法主要支持轮询(RR)、加权轮询(WRR)和加权最小连接数(WLC)

- 轮询算法(Round-Robin): 按顺序将请求分配到每个可用的服务器上,是最简单的负载均衡算法。
- 加权轮询算法(Weighted Round-Robin): 在轮询的基础上,根据服务器的性能或容量分配不同的权重,从而实现更加精细的负载均衡。
- 最少连接算法(Least Connections): 将请求分配到当前连接数最少的服务器上,适用于长连接场景。
- 最短响应时间算法(Least Response Time): 根据服务器的实时响应时间进行负载均衡,将请求分配到响应时间最短的服务器上。
- 哈希算法(Hash-based): 根据请求的某些特征(如 IP 地址、会话 ID等)计算哈希值,将相同哈希值的请求路由到同一个服务器上,适用于需要保证会话亲和性的场景。
- 随机算法(Random): 将请求随机分配到可用的服务器上,简单易实现,但不能保证负载均衡。
- 地理位置算法(Geo-proximity): 根据客户端的地理位置,将请求分配到距离最近的服务器上,减少网络延迟。
- 动态加权轮询算法(Dynamic Weighted Round-Robin): 在加权轮询的基础上,根据服务器的实时负载动态调整权重,提高负载均衡效果。

#### 阿里云服务器的CDN节点系统关键组件有LVS、tengine、swift

LVS 负责负载均衡，Tengine 负责 HTTP/HTTPS 请求处理，Swift 负责静态资源的存储和管理。

#### 阿里云在LVS官方问题上进行了定制化

包括：

- DDoS攻击防御功能
- 采用LVS集群部署方式
- 优化keepalived性能

#### VLAN（Virtual Local Area Network）虚拟局域网

VLAN（Virtual Local Area Network）即虚拟局域网，是将一个物理的LAN在逻辑上划分成多个广播域的通信技术。
每个VLAN是一个广播域，VLAN内的主机间可以直接通信，而VLAN间则不能直接互通。这样，广播报文就被限制在一个VLAN内。

#### NAT网关

NAT 网关（NAT Gateway）是一种网络地址转换服务，提供NAT代理（SNAT和DNAT）能力。阿里云NAT网关分为公网NAT网关和VPC NAT网关，公网NAT网关提供公网地址转换服务，而VPC NAT网关提供私网地址转换服务，您可以根据业务需求灵活选择。

#### 虚拟化实现方式

目前有三种技术来实现x86架构CPU敏感指令和特权指令的虚拟化，分别为：

- 使用二进制翻译的全虚拟化；
- 操作系统辅助或半虚拟化；
- 硬件辅助的虚拟化(第一代)。

#### 流量清洗(Traffic Scrubbing)

流量清洗是指通过各种技术手段对进入网络的流量进行分析和过滤,以识别并阻挡恶意或非法的流量。

#### 黑洞功能(Blackhole Routing)

黑洞功能是指将某些恶意或不需要的流量引入一个"黑洞"中,也就是将其直接丢弃而不进行任何处理。

#### 边界路由器

阿里云基于软件自定义网络SDN（Software Defined Network）架构下的三层Overlay技术和交换机虚拟化技术，将物理专线的接入端口隔离起来，并抽象成边界路由器VBR（Virtual border router）。VBR是CPE（Customer-premises equipment）设备和专有网络VPC（Virtual Private Cloud）之间的一个路由器，作为数据从VPC到本地数据中心IDC（Internet Data Center）的转发桥梁。

#### 二层交换机和三层交换机

二层交换机是一种工作在数据链路层的网络设备，主要功能是根据数据帧中的MAC地址进行转发，并将这些MAC地址与对应的端口记录在自己内部的一个地址表中。

三层交换机是一种具有三层交换功能的设备，即带有第三层路由功能的第二层交换机，可以实现基于目标IP地址的数据包转发，遵循路由算法。

#### LVS集群的组成

- 负载调度器（load balancer）
- 服务器池（server pool）
- 共享存储（shared storage）

#### GPT和MBR分区的区别

分区表结构:
- MBR 分区表结构比较简单,最多只能支持4个主分区。
- GPT 分区表结构更加复杂,可以支持多达128个分区。
磁盘容量限制:
- MBR 分区最大支持 2TB 磁盘容量。
- GPT 分区理论上可支持更大的磁盘容量,通常可达到 9.4ZB (9,400,000TB)。
分区类型:
- MBR 分区只支持主分区和逻辑分区两种类型。
- GPT 分区没有这种类型限制,只有基本和 EFI 系统分区两种类型。
引导方式:
- MBR 采用传统的 BIOS 引导方式。
- GPT 配合 UEFI 引导方式,可以实现更快的启动和更灵活的分区管理。
兼容性:
- MBR 分区可以被大多数较老的操作系统识别和支持。
- GPT 分区需要较新的操作系统如 Windows 8/10、macOS 和 Linux 等支持。

#### 弹性伸缩组冷却时间规则

- 在一次扩容伸缩活动中，冷却时间是从扩容最后一台实例（ECS或ECI）加入伸缩组后开始计算的；在一次缩容伸缩活动中，冷却时间是从缩容最后一台实例（ECS或ECI）移出伸缩组后开始计算的。
- 如果您停用再启用伸缩组，则伸缩组启用后的首次伸缩活动不受冷却时间影响可以立即执行。当伸缩组启用后首次成功执行伸缩活动，弹性伸缩服务才开始计算冷却时间。
- 如果配置了冷却时间，则伸缩组会拒绝由报警任务触发的伸缩活动请求，但非报警任务（如手动执行任务、定时任务、期望实例数或者修改实例数的最大值或者最小值等）触发的伸缩活动不受冷却时间影响可以立即执行。

#### 交换机和路由器

- 交换机(Switch)主要负责在局域网内进行数据链路层的数据转发,实现局域网内设备之间的通信。属于**数据链路层**。
- 路由器(Router)主要负责在不同网段或网络之间进行网络层的数据转发,实现跨网段、跨网络的通信。属于**网络层**。

#### 四层和七层负载均衡

四层网络负载均衡:

- 阿里云采用开源软件LVS
- 工作在网络层(第4层)和传输层(第3层)
- 根据报文的目标 IP 地址和端口号进行转发决策
- 转发决策快速,性能较好
- 主要用于负载均衡基础网络服务,如 HTTP、FTP 等
- 转发决策相对简单,不需要深度解析应用层报文内容
- 常见的四层负载均衡算法有轮询、最小连接数、加权轮询等

七层网络负载均衡:

- 阿里云采用开源软件Tengine
- 工作在应用层(第7层)
- 根据报文的应用层内容(如 URL、Cookie、Http Header 等)进行转发决策
- 转发决策相对复杂,需要深度解析应用层报文
- 可以提供更加智能和灵活的负载均衡策略
- 主要用于负载均衡复杂的应用层业务,如 Web 应用、API 服务等
- 常见的七层负载均衡算法有轮询、加权轮询、最少连接数、源 IP 哈希等

#### RAM 和 STS 是阿里云提供的权限管理系统

RAM（Resource Access Management）是阿里云提供的管理用户身份与资源访问权限的服务。

STS（Security Token Service）是阿里云提供的一种临时访问权限管理服务。
